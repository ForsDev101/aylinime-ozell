<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kalp, Gül ve Seçim Animasyonu</title>
<style>
body {
  margin: 0;
  background-color: black;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  height: 100vh;
  font-family: sans-serif;
}

/* Küçük kalpler */
.falling-heart {
  position: absolute;
  font-size: 24px;
  color: pink;
  animation: fall linear forwards;
}

@keyframes fall {
  0% { top: -50px; opacity: 0; }
  50% { opacity: 1; }
  100% { top: 60%; opacity: 0; }
}

/* Büyük kalp */
#big-heart {
  font-size: 120px;
  color: red;
  opacity: 0;
  position: relative;
}

#name-text span {
  display: inline-block;
  position: relative;
  color: white;
  animation: wave 1s infinite;
}

#name-text span:nth-child(1){ animation-delay: 0s; }
#name-text span:nth-child(2){ animation-delay: 0.1s; }
#name-text span:nth-child(3){ animation-delay: 0.2s; }
#name-text span:nth-child(4){ animation-delay: 0.3s; }
#name-text span:nth-child(5){ animation-delay: 0.4s; }
#name-text span:nth-child(6){ animation-delay: 0.5s; }

@keyframes wave { 0%,100% { top:0 } 50% { top:-15px } }

/* Sohbet barı */
#chat-bar {
  margin-top: 20px;
  border: 2px solid pink;
  padding: 10px;
  width: 80%;
  max-width: 300px;
  border-radius: 10px;
  color: white;
  font-size: 16px;
  overflow: hidden;
}

#chat-text::after { content:'|'; animation: blink 1s infinite; }
@keyframes blink {0%,50%,100%{opacity:1} 25%,75%{opacity:0}}

/* Kutucuk emoji */
#box-emoji {
  font-size: 40px;
  cursor: pointer;
  margin-top: 10px;
  transition: opacity 1s;
}

/* Gül çiçeği */
#rose {
  width: 400px;
  max-width: 90vw;
  height: 400px;
  max-height: 90vw;
  margin-top: 20px;
  opacity: 0;
  transition: opacity 1.5s;
}

#rose path {
  transform-origin: 200px 200px;
  animation: sway 3s ease-in-out infinite alternate;
}

/* Dalgalanma animasyonu */
@keyframes sway {0%{transform:rotate(-2deg);}50%{transform:rotate(2deg);}100%{transform:rotate(-2deg);}}

/* Seçim yazısı */
#proposal-bar {
  margin-top: 20px;
  border: 2px solid pink;
  padding: 10px;
  width: 80%;
  max-width: 300px;
  border-radius: 10px;
  color: white;
  font-size: 16px;
  overflow: hidden;
  display: none;
}
#proposal-text::after { content:'|'; animation: blink 1s infinite; }

/* Evet/Hayır butonları */
#buttons { margin-top:10px; display:none; }
#buttons button {
  padding: 10px 20px;
  margin: 5px;
  border:none;
  border-radius:8px;
  cursor:pointer;
  font-size:16px;
  font-weight:bold;
  transition:0.3s;
}
#buttons button:hover { transform:scale(1.1); }
#buttons #evet { background-color:#ff69b4; color:white; }
#buttons #hayir { background-color:#555; color:white; }

/* Sonuç emojileri */
#result { font-size:100px; margin-top:20px; display:none; }

/* Konfeti animasyonu */
.confetti {
  position:absolute;
  font-size:24px;
  animation: confetti-fall linear forwards;
}
@keyframes confetti-fall {0%{top:-50px; opacity:1} 100%{top:100%; opacity:0}}

/* Responsive */
@media (max-width:500px){
  #big-heart{font-size:80px;}
  #chat-bar,#proposal-bar{width:90%; font-size:14px;}
  .falling-heart{font-size:18px;}
  #rose{width:250px;height:250px;}
  #result{font-size:60px;}
}
</style>
</head>
<body>

<div id="hearts-container"></div>

<div id="big-heart"><div id="name-text"></div></div>

<div id="chat-bar"><span id="chat-text"></span></div>
<div id="box-emoji"></div>

<div id="rose">
<svg viewBox="0 0 400 400">
  <defs>
    <radialGradient id="grad-rose" cx="50%" cy="50%" r="50%">
      <stop offset="0%" style="stop-color:white;stop-opacity:1"/>
      <stop offset="100%" style="stop-color:white;stop-opacity:1"/>
    </radialGradient>
  </defs>
  <g>
    <!-- Gül yaprakları -->
    <path d="M200,200 C220,150 280,150 240,220 C300,260 260,320 200,280 C140,320 100,260 160,220 C120,150 180,150 200,200 Z" fill="white"/>
    <path d="M200,200 C210,160 270,160 230,210 C290,250 250,310 200,270 C150,310 110,250 170,210 C130,160 190,160 200,200 Z" fill="white"/>
    <path d="M200,200 C205,170 260,170 220,200 C280,240 240,300 200,260 C160,300 120,240 180,200 C140,170 195,170 200,200 Z" fill="white"/>
    <circle cx="200" cy="200" r="20" fill="yellow"/>
  </g>
</svg>
</div>

<div id="proposal-bar"><span id="proposal-text"></span></div>
<div id="buttons">
  <button id="evet">Evet</button>
  <button id="hayir">Hayır</button>
</div>

<div id="result"></div>

<script>
// Küçük kalpler
const heartContainer=document.getElementById('hearts-container');
const hearts=[];
for(let i=0;i<20;i++){
  const heart=document.createElement('span');
  heart.classList.add('falling-heart');
  heart.style.left=Math.random()*window.innerWidth+'px';
  heart.style.animationDuration=2+Math.random()*2+'s';
  heart.textContent='❤️';
  heartContainer.appendChild(heart);
  hearts.push(heart);
}

// Büyük kalp ve dalgalı harf
const nameText='A Y L I N';
const nameTextContainer=document.getElementById('name-text');
nameText.split('').forEach(char=>{
  const span=document.createElement('span');
  span.textContent=char===' ' ? '\u00A0' : char;
  nameTextContainer.appendChild(span);
});
setTimeout(()=>{document.getElementById('big-heart').style.opacity=1;},2000);

// Sohbet yazısı
const chatString="Kutuya tıklamak ister misin bitanem?";
let i=0;
const chatText=document.getElementById("chat-text");
function typeWriter(){
  if(i<chatString.length){
    chatText.innerHTML+=chatString.charAt(i);
    i++;
    setTimeout(typeWriter,100);
  }else{showBox();}
}
function showBox(){
  const box=document.getElementById("box-emoji");
  box.textContent='📦';
  box.addEventListener('click',()=>{
    box.style.opacity=0;
    chatText.innerHTML=''; // Sohbet yazısını kaybettir
    setTimeout(()=>{
      document.getElementById('rose').style.opacity=1;
      // Kalpler 3 saniye sonra kaybolacak
      setTimeout(()=>{hearts.forEach(h=>{h.style.transition="opacity 1s";h.style.opacity=0;});},3000);
      // Gül çıktıktan sonra mesaj 3 saniye gecikmeli
      setTimeout(showProposal,3000);
    },500);
  });
}
setTimeout(typeWriter,2500);

// Sevgilim olur musun yazısı
function showProposal(){
  const proposalBar=document.getElementById('proposal-bar');
  const proposalText=document.getElementById('proposal-text');
  const text="Sevgilim olur musun Aylinim?";
  let j=0;
  proposalBar.style.display='block';
  function typeProposal(){
    if(j<text.length){
      proposalText.innerHTML+=text.charAt(j);
      j++;
      setTimeout(typeProposal,100);
    }else{showButtons();}
  }
  typeProposal();
}

// Evet/Hayır butonları
function showButtons(){
  const buttons=document.getElementById('buttons');
  buttons.style.display='block';
  const evetBtn=document.getElementById('evet');
  const hayirBtn=document.getElementById('hayir');
  evetBtn.addEventListener('click',()=>handleAnswer('evet'));
  hayirBtn.addEventListener('click',()=>handleAnswer('hayır'));
}

// Cevabı işleme
function handleAnswer(answer){
  document.getElementById('buttons').style.display='none';
  document.getElementById('proposal-bar').style.display='none';
  if(answer==='evet'){showConfetti();}
  else{showCry();}
}

// Ağlama
function showCry(){
  const result=document.getElementById('result');
  result.textContent='😭';
  result.style.display='block';
}

// Konfeti
function showConfetti(){
  const colors=['🎉','✨','💖','🌸','💫'];
  for(let i=0;i<50;i++){
    const c=document.createElement('span');
    c.classList.add('confetti');
    c.textContent=colors[Math.floor(Math.random()*colors.length)];
    c.style.left=Math.random()*window.innerWidth+'px';
    c.style.animationDuration=2+Math.random()*2+'s';
    document.body.appendChild(c);
    setTimeout(()=>{c.remove();},4000);
  }
  const result=document.getElementById('result');
  result.textContent='🎊';
  result.style.display='block';
}
</script>
</body>
</html>
