<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kalp, GÃ¼l ve SeÃ§im Animasyonu</title>
<style>
body {
  margin: 0;
  background-color: black;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  height: 100vh;
  font-family: sans-serif;
}

/* KÃ¼Ã§Ã¼k kalpler */
.falling-heart {
  position: absolute;
  font-size: 24px;
  color: pink;
  animation: fall linear forwards;
}

/* Kalpler animasyonu */
@keyframes fall {
  0% { top: -50px; opacity: 0; }
  50% { opacity: 1; }
  100% { top: 60%; opacity: 0; }
}

/* BÃ¼yÃ¼k kalp */
#big-heart {
  font-size: 120px;
  color: red;
  opacity: 0;
  position: relative;
}

/* DalgalÄ± harfler */
#name-text span {
  display: inline-block;
  position: relative;
  color: white;
  animation: wave 1s infinite;
}

#name-text span:nth-child(1){ animation-delay: 0s; }
#name-text span:nth-child(2){ animation-delay: 0.1s; }
#name-text span:nth-child(3){ animation-delay: 0.2s; }
#name-text span:nth-child(4){ animation-delay: 0.3s; }
#name-text span:nth-child(5){ animation-delay: 0.4s; }
#name-text span:nth-child(6){ animation-delay: 0.5s; }

@keyframes wave { 0%,100% { top:0 } 50% { top:-15px } }

/* Sohbet barÄ± */
#chat-bar {
  margin-top: 20px;
  border: 2px solid pink;
  padding: 10px;
  width: 80%;
  max-width: 300px;
  border-radius: 10px;
  color: white;
  font-size: 16px;
  overflow: hidden;
}
#chat-text::after { content:'|'; animation: blink 1s infinite; }
@keyframes blink {0%,50%,100%{opacity:1} 25%,75%{opacity:0}}

/* Kutucuk emoji */
#box-emoji {
  font-size: 40px;
  cursor: pointer;
  margin-top: 10px;
  transition: opacity 1s;
}

/* GerÃ§ekÃ§i beyaz gÃ¼l */
#rose {
  width: 400px;
  max-width: 90vw;
  height: 400px;
  max-height: 90vw;
  margin-top: 20px;
  opacity: 0;
  transition: opacity 1.5s;
}

#rose path, #rose circle {
  transform-origin: center center;
  animation: sway 3s ease-in-out infinite alternate;
}
@keyframes sway {0%{transform:rotate(-2deg);}50%{transform:rotate(2deg);}100%{transform:rotate(-2deg);}}

/* SeÃ§im yazÄ±sÄ± */
#proposal-bar {
  margin-top: 20px;
  border: 2px solid pink;
  padding: 10px;
  width: 80%;
  max-width: 300px;
  border-radius: 10px;
  color: white;
  font-size: 16px;
  overflow: hidden;
  display: none;
}
#proposal-text::after { content:'|'; animation: blink 1s infinite; }

/* Evet/HayÄ±r butonlarÄ± */
#buttons { margin-top:10px; display:none; }
#buttons button {
  padding: 10px 20px;
  margin: 5px;
  border:none;
  border-radius:8px;
  cursor:pointer;
  font-size:16px;
  font-weight:bold;
  transition:0.3s;
}
#buttons button:hover { transform:scale(1.1); }
#buttons #evet { background-color:#ff69b4; color:white; }
#buttons #hayir { background-color:#555; color:white; }

/* SonuÃ§ emojileri */
#result { font-size:100px; margin-top:20px; display:none; }

/* Konfeti animasyonu */
.confetti {
  position:absolute;
  font-size:24px;
  animation: confetti-fall linear forwards;
}
@keyframes confetti-fall {0%{top:-50px; opacity:1} 100%{top:100%; opacity:0}}

/* Responsive */
@media (max-width:500px){
  #big-heart{font-size:80px;}
  #chat-bar,#proposal-bar{width:90%; font-size:14px;}
  .falling-heart{font-size:18px;}
  #rose{width:250px;height:250px;}
  #result{font-size:60px;}
}
</style>
</head>
<body>

<div id="hearts-container"></div>

<div id="big-heart"><div id="name-text"></div></div>

<div id="chat-bar"><span id="chat-text"></span></div>
<div id="box-emoji"></div>

<div id="rose">
<svg viewBox="0 0 400 400">
  <defs>
    <radialGradient id="roseGrad" cx="50%" cy="50%" r="50%">
      <stop offset="0%" style="stop-color:white;stop-opacity:1"/>
      <stop offset="100%" style="stop-color:white;stop-opacity:0"/>
    </radialGradient>
    <filter id="blurRose"><feGaussianBlur in="SourceGraphic" stdDeviation="0.8"/></filter>
  </defs>
  <g fill="url(#roseGrad)" filter="url(#blurRose)">
    <!-- Ã‡ok yapraklÄ± gerÃ§ekÃ§i gÃ¼l -->
    <path d="M200,50 C220,90 260,90 230,150 C270,200 240,280 200,250 C160,280 130,200 170,150 C140,90 180,90 200,50 Z"/>
    <path d="M200,60 C215,95 255,95 225,145 C265,190 240,260 200,230 C160,260 135,190 175,145 C145,95 185,95 200,60 Z"/>
    <path d="M200,70 C210,100 250,100 220,140 C260,180 240,250 200,220 C160,250 140,180 180,140 C150,100 190,100 200,70 Z"/>
    <circle cx="200" cy="200" r="15" fill="yellow"/>
  </g>
</svg>
</div>

<div id="proposal-bar"><span id="proposal-text"></span></div>
<div id="buttons">
  <button id="evet">Evet</button>
  <button id="hayir">HayÄ±r</button>
</div>

<div id="result"></div>

<script>
// KÃ¼Ã§Ã¼k kalpler
const heartContainer=document.getElementById('hearts-container');
const hearts=[];
for(let i=0;i<20;i++){
  const heart=document.createElement('span');
  heart.classList.add('falling-heart');
  heart.style.left=Math.random()*window.innerWidth+'px';
  heart.style.animationDuration=2+Math.random()*2+'s';
  heart.textContent='â¤ï¸';
  heartContainer.appendChild(heart);
  hearts.push(heart);
}

// BÃ¼yÃ¼k kalp ve dalgalÄ± harf
const nameText='A Y L I N';
const nameTextContainer=document.getElementById('name-text');
nameText.split('').forEach(char=>{
  const span=document.createElement('span');
  span.textContent=char===' ' ? '\u00A0' : char;
  nameTextContainer.appendChild(span);
});
setTimeout(()=>{document.getElementById('big-heart').style.opacity=1;},2000);

// Sohbet yazÄ±sÄ±
const chatString="Kutuya tÄ±klamak ister misin bitanem?";
let i=0;
const chatText=document.getElementById("chat-text");
function typeWriter(){
  if(i<chatString.length){
    chatText.innerHTML+=chatString.charAt(i);
    i++;
    setTimeout(typeWriter,100);
  }else{showBox();}
}
function showBox(){
  const box=document.getElementById("box-emoji");
  box.textContent='ðŸ“¦';
  box.addEventListener('click',()=>{
    // YazÄ±yÄ± kaldÄ±r
    document.getElementById("chat-text").innerHTML="";
    box.style.opacity=0;
    setTimeout(()=>{
      document.getElementById('rose').style.opacity=1;
      // Kalpler 3 saniye sonra kaybolacak
      setTimeout(()=>{
        hearts.forEach(h=>{h.style.transition="opacity 1s";h.style.opacity=0;});
      },3000);
      // GÃ¼l Ã§Ä±ktÄ±ktan 3 saniye sonra sevgilim mesajÄ±
      setTimeout(showProposal,3000);
    },500);
  });
}
setTimeout(typeWriter,2500);

// Sevgilim olur musun yazÄ±sÄ±
function showProposal(){
  const proposalBar=document.getElementById('proposal-bar');
  const proposalText=document.getElementById('proposal-text');
  const text="Sevgilim olur musun Aylinim?";
  let j=0;
  proposalBar.style.display='block';
  function typeProposal(){
    if(j<text.length){
      proposalText.innerHTML+=text.charAt(j);
      j++;
      setTimeout(typeProposal,100);
    }else{showButtons();}
  }
  typeProposal();
}

// Evet/HayÄ±r butonlarÄ±
function showButtons(){
  const buttons=document.getElementById('buttons');
  buttons.style.display='block';
  const evetBtn=document.getElementById('evet');
  const hayirBtn=document.getElementById('hayir');
  evetBtn.addEventListener('click',()=>handleAnswer('evet'));
  hayirBtn.addEventListener('click',()=>handleAnswer('hayÄ±r'));
}

// CevabÄ± iÅŸleme
function handleAnswer(answer){
  localStorage.setItem('answer',answer);
  document.getElementById('buttons').style.display='none';
  document.getElementById('proposal-bar').style.display='none';
  if(answer==='evet'){showConfetti();}
  else{showCry();}
}

// AÄŸlama
function showCry(){
  const result=document.getElementById('result');
  result.textContent='ðŸ˜­';
  result.style.display='block';
}

// Konfeti
function showConfetti(){
  const colors=['ðŸŽ‰','âœ¨','ðŸ’–','ðŸŒ¸','ðŸ’«'];
  for(let i=0;i<50;i++){
    const c=document.createElement('span');
    c.classList.add('confetti');
    c.textContent=colors[Math.floor(Math.random()*colors.length)];
    c.style.left=Math.random()*window.innerWidth+'px';
    c.style.animationDuration=2+Math.random()*2+'s';
    document.body.appendChild(c);
    setTimeout(()=>{c.remove();},4000);
  }
  const result=document.getElementById('result');
  result.textContent='ðŸŽŠ';
  result.style.display='block';
}
</script>
</body>
</html>
